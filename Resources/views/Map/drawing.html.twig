<script type="text/javascript" src="{{ asset('bundles/idcistep/js/lib/require.js') }}"></script>
<div id="idci_step_drawing_area" style="height: 500px; width: 500px; position: relative; margin: auto;"></div>
<script type="text/javascript" >
    'use strict';
    requirejs.config(
        {
            paths: {
                'jquery': '{{ asset('bundles/idcistep/js/lib/jquery') }}',
                'drawer': '{{ asset('bundles/idcistep/js/map/map') }}'
            }
        });

    define('jquery-private', ['jquery'], function(jq)
    {
        return jq.noConflict(true);
    });

    require(
        [
            'jquery-private',
            'drawer'
        ],
        function($, Drawer)
        {

            $(document).ready(function()
            {
                var drawer = new Drawer();
                var json = {{ json|raw }};

                drawer.setData(json);
            });
        });
</script>